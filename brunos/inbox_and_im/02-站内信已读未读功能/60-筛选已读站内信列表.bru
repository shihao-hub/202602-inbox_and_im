meta {
  name: ç­›é€‰å·²è¯»ç«™å†…ä¿¡åˆ—è¡¨
  type: http
  seq: 5
}

get {
  url: {{host}}/api/v1/notifications?is_read=true&page=1&page_size=20
  body: none
  auth: inherit
}

params:query {
  is_read: true
  page: 1
  page_size: 20
}

headers {
  User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:147.0) Gecko/20100101 Firefox/147.0
  Accept: application/json
}

script:post-response {
  // æ£€æŸ¥è¯·æ±‚æ˜¯å¦æˆåŠŸ
  if (res.getStatus() !== 200) {
    console.error("âŒ è·å–å·²è¯»ç«™å†…ä¿¡åˆ—è¡¨å¤±è´¥ï¼ŒçŠ¶æ€ç :", res.getStatus());
    console.error("å“åº”:", res.getBody());
    bru.setNextRequest(false);
    return;
  }

  const data = res.getBody();
  console.log("âœ… è·å–å·²è¯»ç«™å†…ä¿¡åˆ—è¡¨æˆåŠŸ");
  console.log("ğŸ“Š æ€»æ•°:", data.total);
  console.log("ğŸ“„ å½“å‰é¡µ:", data.items.length, "æ¡");
  console.log("ğŸ“ˆ æœªè¯»æ•°é‡:", data.unread_count);

  if (data.items.length > 0) {
    console.log("ğŸ“Œ ç¬¬ä¸€æ¡å·²è¯»ç«™å†…ä¿¡:");
    console.log("   - ID:", data.items[0].id);
    console.log("   - æ ‡é¢˜:", data.items[0].notification?.title || "æ— æ ‡é¢˜");
    console.log("   - ç±»å‹:", data.items[0].notification?.type || "unknown");
    console.log("   - å·²è¯»æ—¶é—´:", data.items[0].read_at || "æœªè®°å½•");
  } else {
    console.log("ğŸ“­ å½“å‰æ²¡æœ‰å·²è¯»ç«™å†…ä¿¡");
  }
}
